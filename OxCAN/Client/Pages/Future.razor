@page "/future"
@using OxCAN.Shared.Models
@inject HttpClient Http
<PageTitle>Future Work</PageTitle>

<MudContainer>
    <MudText Typo="Typo.h1" Align="Align.Center" GutterBottom="true">Future Projects</MudText>

    <MudGrid >
        <MudItem>
            <MudText Typo="Typo.body1">
                We’re depositing any projects that the Oxford community brings to us. Some will work, some may not, but let’s bring it all to the table. Click on any of the project titles to send us an email with feedback on that subject!
            </MudText>
        </MudItem>

        @if (futureProjects == null)
        {
            <MudItem>
                <MudText Typo="Typo.body1">Loading Project List...</MudText>
            </MudItem>        
        }
        else
        {
            <MudContainer MaxWidth="MaxWidth.Medium">
            @foreach (var project in futureProjects)
            {
                <MudCard Class="mt-6">
                    <MudCardMedia Image="@project.ImageLink" />
                    <MudCardContent>
                        <MudText Typo="Typo.h5">@project.Name</MudText>
                        <MudText Typo="Typo.body2">@project.Description</MudText>
                    </MudCardContent>
                    <MudCardActions>
                        <MudButton Href="@project.MailToLink" Variant="Variant.Filled" StartIcon="@Icons.TwoTone.Email" Color="Color.Primary">Contact Us</MudButton>
                    </MudCardActions>
                </MudCard>
            }
            </MudContainer>
        }
    </MudGrid>
</MudContainer>

@code {
    private Project[]? futureProjects;

    protected override async Task OnInitializedAsync()
    {
        futureProjects = await Http.GetFromJsonAsync<Project[]>("Projects/Future");
    }}