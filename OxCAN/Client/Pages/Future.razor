@page "/future"
@using OxCAN.Shared.Models
@inject HttpClient Http
<PageTitle>Future Work</PageTitle>

<MudContainer Class="mt-auto" MaxWidth="MaxWidth.Large">
    <MudText Typo="Typo.h1" Align="Align.Center" GutterBottom="true">Future Projects</MudText>

    <MudGrid Class="mt-auto">
        <MudItem>
            <MudText Typo="Typo.body1">
                We’re depositing any projects that the Oxford community brings to us. Some will work, some may not, but let’s bring it all to the table. Click on any of the project titles to send us an email with feedback on that subject!
            </MudText>
        </MudItem>

        @if (futureProjects == null)
        {
            <MudItem xs="12">
                <MudText Typo="Typo.body1">Loading Project List...</MudText>
            </MudItem>        
        }
        else
        {
            @foreach (var project in futureProjects)
            {
                <MudItem xs="6">
                    <MudImage ObjectFit="ObjectFit.Contain" Fluid="true" Src="@project.ImageLink" />
                </MudItem>
                <MudItem xs="6">
                    <MudLink Typo="Typo.h4"Href="@project.MailToLink" Target="_blank">@project.Name</MudLink>
                    <MudText Typo="Typo.body1">@project.Description</MudText>
                </MudItem>
            }
        }
    </MudGrid>
</MudContainer>

@code {
    private Project[]? futureProjects;

    protected override async Task OnInitializedAsync()
    {
        futureProjects = await Http.GetFromJsonAsync<Project[]>("Projects/Future");
    }}